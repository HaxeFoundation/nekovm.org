<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<title>Specification - Hashtables - NekoVM</title>
		<meta name="date" content="2016-01-01T12:00:05+0100" />
		<meta name="robots" content="index,follow" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="stylesheet" media="screen" type="text/css" href="/css/style.min.css"/>
		<link rel="stylesheet" media="screen" type="text/css" href="/css/code-highlight.css"/>
		<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" />
		<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" />
		<link rel="canonical" href="https://nekovm.org/specs/hashtables/"/></head>
	<body>
		
		<!--
			Force redirect to the right origin.
			It is needed to redirect `path` to `path/` with the correct domain name.
			See the "Caveats" section of http://strd6.com/2016/02/github-pages-custom-domain-with-ssltls/.
		-->
		<script type="text/javascript">
			function startsWith(str, searchString){
				return str.substr(0, searchString.length) === searchString;
			}
			if (!startsWith(location.href, "https://nekovm.org/specs/hashtables/")) {
				window.location.replace("https://nekovm.org/specs/hashtables/");
			}
		</script>
		<nav>
			<ul class="siteMenu">
				<li><a href="/">Home</a></li>
				<li><a href="/news/">News</a></li>
				<li><a href="/download/">Downloads</a></li>
				<li><a href="/doc/begin/">Documentation</a></li>
				<li><a href="/specs/syntax/">Specification</a></li>
				<li><a href="/doc/libs/">API</a></li>
				<li><a href="/faq/">FAQ</a></li>
				<li><a href="/ml/">Contact</a></li>
			</ul>
		</nav>
		<div class="center">
			<div class="siteHeader">
				<a href="/" title="NekoVM home"><img src="/img/nekovm-logo.png" alt="NekoVM logo"/></a>
			</div>
			<div class="container">
				<div class="navigation">
	<div id="tocinside">
		<h3>Specification</h3>
		<ul class="toc">
			<li>Programming Language Specifications
				<ul>
					<li><a href="/specs/syntax/">Syntax</a></li>
					<li><a href="/specs/values/">Values</a></li>
					<li><a href="/specs/execution-flow/">Execution Flow</a></li>
					<li><a href="/specs/variables/">Variables</a></li>
					<li><a href="/specs/operations-and-types/">Operations on Basic Types</a></li>
					<li><a href="/specs/rtti/">Runtime Type Information (RTTI)</a></li>
					<li><a href="/specs/functions/">Function &amp; Function Calls</a></li>
					<li><a href="/specs/objects/">Objects</a></li>
					<li><a href="/specs/arrays/">Arrays</a></li>
					<li><a href="/specs/strings/">Strings</a></li>
					<li><a href="/specs/exceptions/">Exceptions</a></li>
					<li><a href="/specs/hashtables/">Hashtables</a></li>
					<li><a href="/specs/labels-and-gotos/">Labels and Gotos</a></li>
				</ul>
			</li>
		</ul>
	</div>
</div>

<div class="siteContent">
	<h1>Hashtables</h1>
<p>There is a set of builtins that are useful for using Hashtables. A hashtable is not a basic type, but an <em>abstract</em> type. It can then only be manipulated using the following builtins :</p><ul><li><code>$hnew(size)</code> : create a new hashtable having initialy <code>size</code> slots.</li><li><code>$hadd(h,k,v)</code> : add the value <code>v</code> with key <code>k</code> to the hashtable. Please note that <code>k</code> can be any Neko value, even recursive.</li><li><code>$hset(h,k,v,cmp)</code> : set the value of the key <code>k</code> to <code>v</code>. The previous binding is replaced if the <code>cmp</code> function between keys returns 0. If <code>cmp</code> is <code>null</code>, the default comparison function is used.</li><li><code>$hmem(h,k,cmp)</code> : returns true if a value exists for key <code>k</code> in the Hashtable.</li><li><code>$hget(h,k,cmp)</code> : returns the first value bound to key <code>k</code> or <code>null</code> if not found.</li><li><code>$hremove(h,k,cmp)</code> : removes the first binding of <code>k</code>, and returns a boolean indicating the success.</li><li><code>$hresize(h,size)</code> : resize the hashtable. Please note that the size is usually automaticaly handled.</li><li><code>$hsize(h)</code> : returns the size of the hashtable.</li><li><code>$hcount(h)</code> : returns the number of bindings in the hashtable.</li><li><code>$hiter(h,f)</code> : calls <code>f(k,v)</code> for each binding found in the hashtable.</li></ul>
<p>The hashtable stores the (key, values) couples in one chained list per slot. Adding a new binding with the same key will mask the previous one. The hash function used internally is <code>$hkey(k)</code>, which will return a positive Neko integer for any Neko value. The hash function cannot be overridden, but the comparison function between keys can be overridden where it is used.</p>
<p>You can, of course, write your own hashtable implementation using Neko data structures, but using the standard builtin hashtable is better for languages interoperability.</p>
</div>

			</div>

			<div class="corpo">
				<p>&copy; 2019
				<a href="https://haxe.org/foundation/" title="Haxe Foundation Website" class="hf-link">Haxe Foundation</a>
				
				| <a href="https://github.com/HaxeFoundation/nekovm.org/tree/master/pages/specs/hashtables.md" target="_blank" rel="external" class="edit-link" title="Use Github to suggest an edit to this page">Contribute to this page</a>
				</p>
			</div>
		</div>

		<script src="/js/code-highlight.js"></script>
		<script>hljs.registerLanguage( "neko", function() { return hljs.getLanguage("js"); } );</script>
		<script>hljs.initHighlightingOnLoad();</script>
	</body>
</html>
